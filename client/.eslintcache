[{"C:\\Users\\prany\\repos\\viPass\\client\\src\\index.js":"1","C:\\Users\\prany\\repos\\viPass\\client\\src\\reportWebVitals.js":"2","C:\\Users\\prany\\repos\\viPass\\client\\src\\App.js":"3","C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Signup.js":"4","C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Login.js":"5","C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Home.js":"6","C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Profile.js":"7","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\Header\\index.js":"8","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\Footer\\index.js":"9","C:\\Users\\prany\\repos\\viPass\\client\\src\\utils\\queries.js":"10","C:\\Users\\prany\\repos\\viPass\\client\\src\\utils\\auth.js":"11","C:\\Users\\prany\\repos\\viPass\\client\\src\\utils\\mutations.js":"12","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\AdminList\\index.js":"13","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\PermissionsList\\index.js":"14","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\PermissionsForm\\index.js":"15"},{"size":517,"mtime":1634053839955,"results":"16","hashOfConfig":"17"},{"size":375,"mtime":1634053839959,"results":"18","hashOfConfig":"17"},{"size":2236,"mtime":1634133437601,"results":"19","hashOfConfig":"17"},{"size":2758,"mtime":1634053839958,"results":"20","hashOfConfig":"17"},{"size":2597,"mtime":1634060425439,"results":"21","hashOfConfig":"17"},{"size":1149,"mtime":1634133437627,"results":"22","hashOfConfig":"17"},{"size":1826,"mtime":1634134666709,"results":"23","hashOfConfig":"17"},{"size":1110,"mtime":1634102134149,"results":"24","hashOfConfig":"17"},{"size":879,"mtime":1634053839950,"results":"25","hashOfConfig":"17"},{"size":968,"mtime":1634053839961,"results":"26","hashOfConfig":"17"},{"size":1231,"mtime":1634133437632,"results":"27","hashOfConfig":"17"},{"size":1330,"mtime":1634133437633,"results":"28","hashOfConfig":"17"},{"size":595,"mtime":1634134259161,"results":"29","hashOfConfig":"17"},{"size":982,"mtime":1634133437616,"results":"30","hashOfConfig":"17"},{"size":2995,"mtime":1634133437608,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1jzn3lh",{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61"},{"filePath":"62","messages":"63","errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},{"filePath":"65","messages":"66","errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},"C:\\Users\\prany\\repos\\viPass\\client\\src\\index.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\reportWebVitals.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\App.js",["68","69"],"import React from 'react';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\nimport Signup from './pages/Signup';\r\nimport Login from './pages/Login';\r\nimport SingleThought from './pages/SingleThought';\r\nimport Profile from './pages/Profile';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\n\r\n// Construct our main GraphQL API endpoint\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql',\r\n});\r\n\r\n// Construct request middleware that will attach the JWT token to every request as an `authorization` header\r\nconst authLink = setContext((_, { headers }) => {\r\n  // get the authentication token from local storage if it exists\r\n  const token = localStorage.getItem('id_token');\r\n  // return the headers to the context so httpLink can read them\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  // Set up our client to execute the `authLink` middleware prior to making the request to our GraphQL API\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div className=\"flex-column justify-flex-start min-100-vh\">\r\n          <Header />\r\n          <div className=\"container\">\r\n            <Route exact path=\"/\">\r\n              <Home />\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              <Login />\r\n            </Route>\r\n            <Route exact path=\"/signup\">\r\n              <Signup />\r\n            </Route>\r\n            <Route exact path=\"/me\">\r\n              <Profile />\r\n            </Route>\r\n            <Route exact path=\"/profiles/:username\">\r\n              <Profile />\r\n            </Route>\r\n            <Route exact path=\"/permissions\">\r\n              <Permissions />\r\n            </Route>\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Signup.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Login.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Home.js",["70","71","72","73","74"],"import React from 'react';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport PermissionsList from '../components/PermissionsList';\r\nimport PermissionsForm from '../components/PermissionsForm';\r\nimport AdminList from '../components/AdminList';\r\n\r\n\r\nimport { QUERY_THOUGHTS } from '../utils/queries';\r\n\r\n\r\nconst Home = () => {\r\n  const { loading, data } = useQuery(QUERY_THOUGHTS);\r\n  const thoughts = data?.thoughts || [];\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"flex-row justify-center\">\r\n\r\n        <div\r\n          className=\"col-12 col-md-10 mb-3 p-3\"\r\n          style={{ border: '1px dotted #1a1a1a' }}\r\n        >\r\n\r\n              <Link className=\"button is-focused\" to=\"/login\">\r\n                Login\r\n              </Link>\r\n              <Link className=\"button is-link is-focused\" to=\"/signup\">\r\n                Signup\r\n              </Link>\r\n              \r\n\r\n              \r\n        </div>\r\n            <AdminList\r\n              admins={admins}\r\n              title=\"Some Feed for Thought(s)...\"\r\n            />\r\n    \r\n\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\prany\\repos\\viPass\\client\\src\\pages\\Profile.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\Header\\index.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\Footer\\index.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\utils\\queries.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\utils\\auth.js",["75"],"import decode from 'jwt-decode';\r\nimport User from '../../../server/models/User'\r\n\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    const token = this.getToken();\r\n    // If there is a token and it's not expired, return `true`\r\n    return token && !this.isTokenExpired(token) ? true : false;\r\n  }\r\n\r\n  // isAdmin(){\r\n  //   const isAnAdmin = User.isAdmin\r\n  //   console.log(isAnAdmin)\r\n  // }\r\n\r\n  isTokenExpired(token) {\r\n    // Decode the token to get its expiration time that was set by the server\r\n    const decoded = decode(token);\r\n    // If the expiration time is less than the current time (in seconds), the token is expired and we return `true`\r\n    if (decoded.exp < Date.now() / 1000) {\r\n      localStorage.removeItem('id_token');\r\n      return true;\r\n    }\r\n    // If token hasn't passed its expiration time, return `false`\r\n    return false;\r\n  }\r\n\r\n  getToken() {\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    localStorage.setItem('id_token', idToken);\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('id_token');\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","C:\\Users\\prany\\repos\\viPass\\client\\src\\utils\\mutations.js",[],"C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\AdminList\\index.js",["76","77","78","79","80"],"import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AdminList =({\r\n  // isAdmin = true,\r\n\r\n}) => {\r\n  if (!admins.length) {\r\n    return <h3>No Admins Yet</h3>;\r\n  }\r\n\r\n  const [admins] = useState(['email@email.com', 'email2@email.com']);\r\n  return (\r\n    <section >\r\n        <button onClick = \"makeAdmin()\" >Add Admin</button> \r\n      <div id=\"container\" className=\"container\">\r\n        {admins.map((admin) => (\r\n          <div className=\"box\">\r\n            {admin}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AdminList\r\n\r\n\r\n","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\PermissionsList\\index.js",["81","82","83","84","85"],"import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\nfunction Permissions() {\r\n  const [permissions] = useState(['pool', 'mini bar', 'roof' , 'continental breakfast']);\r\n  return (\r\n    <section >\r\n      <div id=\"container\" className=\"container\">\r\n        {permissions.map((permission) => (\r\n          <div className=\"box\">\r\n            {permission}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst PermissionsList = ({\r\n  isAdmin = true,\r\n}) => {\r\n  if (!isAdmin) {\r\n    return \r\n    //how to redirect??;\r\n  }\r\n    const [permissions] = useState(['pool', 'mini bar', 'roof', 'continental breakfast']);\r\n    return (\r\n      <section >\r\n        <div id=\"container\" className=\"container\">\r\n          {permissions.map((permission) => (\r\n            <div className=\"box\">\r\n              {permission}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n    );\r\n};\r\n\r\nexport default PermissionsList;\r\n","C:\\Users\\prany\\repos\\viPass\\client\\src\\components\\PermissionsForm\\index.js",["86","87","88","89","90"],"import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport { ADD_THOUGHT } from '../../utils/mutations';\r\nimport { QUERY_PERMISSIONS, QUERY_ME } from '../../utils/queries';\r\n\r\nimport Auth from '../../utils/auth';\r\n\r\nconst PermissionForm = () => {\r\n  const [newPermissionText, setNewPermissionText] = useState('');\r\n  const [characterCount, setCharacterCount] = useState(0);\r\n\r\n  const [addPermission, { error }] = useMutation(ADD_THOUGHT, {\r\n    update(cache, { data: { addPermission } }) {\r\n      try {\r\n        const { users } = cache.readQuery({ query: QUERY_PERMISSION });\r\n            //is it QUERY_ADMIN?  \r\n        cache.writeQuery({\r\n          query: QUERY_PERMISSION,\r\n          data: { users: [addPermission, ...users] },\r\n          //is it ...users??\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n  });\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await addPermission({\r\n        variables: {\r\n          newPermissionText,\r\n        },\r\n      });\r\n\r\n      setNewPermissionText('');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    if (name === 'newPermissionText' && value.length <= 280) {\r\n      setNewPermissionText(value);\r\n      setCharacterCount(value.length);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      {Auth.loggedIn() ? (\r\n        <>\r\n          <p\r\n            className={`m-0 ${\r\n              characterCount === 280 || error ? 'text-danger' : ''\r\n            }`}\r\n          >\r\n            Character Count: {characterCount}/280\r\n          </p>\r\n          <form\r\n            className=\"flex-row justify-center justify-space-between-md align-center\"\r\n            onSubmit={handleFormSubmit}\r\n          >\r\n            <div className=\"col-12 col-lg-9\">\r\n              <textarea\r\n                name=\"newPermissionText\"\r\n                placeholder=\"What is the new permission?\"\r\n                value={newPermissionText}\r\n                className=\"form-input w-100\"\r\n                style={{ lineHeight: '1.5', resize: 'vertical' }}\r\n                onChange={handleChange}\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div className=\"col-12 col-lg-3\">\r\n              <button className=\"btn btn-primary btn-block py-3\" type=\"submit\">\r\n                Add Permission\r\n              </button>\r\n            </div>\r\n            {error && (\r\n              <div className=\"col-12 my-3 bg-danger text-white p-3\">\r\n                {error.message}\r\n              </div>\r\n            )}\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <p>\r\n          You need to be an admin to create new permisions. Please{' '}\r\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PermissionForm;\r\n",{"ruleId":"91","severity":1,"message":"92","line":14,"column":8,"nodeType":"93","messageId":"94","endLine":14,"endColumn":21},{"ruleId":"95","severity":2,"message":"96","line":66,"column":16,"nodeType":"97","messageId":"98","endLine":66,"endColumn":27},{"ruleId":"91","severity":1,"message":"99","line":7,"column":8,"nodeType":"93","messageId":"94","endLine":7,"endColumn":23},{"ruleId":"91","severity":1,"message":"100","line":8,"column":8,"nodeType":"93","messageId":"94","endLine":8,"endColumn":23},{"ruleId":"91","severity":1,"message":"101","line":16,"column":11,"nodeType":"93","messageId":"94","endLine":16,"endColumn":18},{"ruleId":"91","severity":1,"message":"102","line":17,"column":9,"nodeType":"93","messageId":"94","endLine":17,"endColumn":17},{"ruleId":"103","severity":2,"message":"104","line":39,"column":23,"nodeType":"93","messageId":"105","endLine":39,"endColumn":29},{"ruleId":"91","severity":1,"message":"106","line":2,"column":8,"nodeType":"93","messageId":"94","endLine":2,"endColumn":12},{"ruleId":"91","severity":1,"message":"107","line":2,"column":10,"nodeType":"93","messageId":"94","endLine":2,"endColumn":14},{"ruleId":"108","severity":1,"message":"109","line":4,"column":19,"nodeType":"110","messageId":"111","endLine":7,"endColumn":2},{"ruleId":"112","severity":1,"message":"113","line":8,"column":8,"nodeType":"93","messageId":"114","endLine":8,"endColumn":14},{"ruleId":"115","severity":2,"message":"116","line":12,"column":20,"nodeType":"93","endLine":12,"endColumn":28},{"ruleId":"103","severity":2,"message":"117","line":12,"column":20,"nodeType":"93","messageId":"105","endLine":12,"endColumn":28},{"ruleId":"91","severity":1,"message":"107","line":2,"column":10,"nodeType":"93","messageId":"94","endLine":2,"endColumn":14},{"ruleId":"91","severity":1,"message":"118","line":8,"column":10,"nodeType":"93","messageId":"94","endLine":8,"endColumn":21},{"ruleId":"103","severity":2,"message":"117","line":9,"column":25,"nodeType":"93","messageId":"105","endLine":9,"endColumn":33},{"ruleId":"115","severity":2,"message":"116","line":36,"column":27,"nodeType":"93","endLine":36,"endColumn":35},{"ruleId":"103","severity":2,"message":"117","line":36,"column":27,"nodeType":"93","messageId":"105","endLine":36,"endColumn":35},{"ruleId":"91","severity":1,"message":"119","line":6,"column":10,"nodeType":"93","messageId":"94","endLine":6,"endColumn":27},{"ruleId":"91","severity":1,"message":"120","line":6,"column":29,"nodeType":"93","messageId":"94","endLine":6,"endColumn":37},{"ruleId":"103","severity":2,"message":"121","line":17,"column":52,"nodeType":"93","messageId":"105","endLine":17,"endColumn":68},{"ruleId":"103","severity":2,"message":"121","line":20,"column":18,"nodeType":"93","messageId":"105","endLine":20,"endColumn":34},{"ruleId":"91","severity":1,"message":"122","line":34,"column":15,"nodeType":"93","messageId":"94","endLine":34,"endColumn":19},"no-unused-vars","'SingleThought' is defined but never used.","Identifier","unusedVar","react/jsx-no-undef","'Permissions' is not defined.","JSXIdentifier","undefined","'PermissionsList' is defined but never used.","'PermissionsForm' is defined but never used.","'loading' is assigned a value but never used.","'thoughts' is assigned a value but never used.","no-undef","'admins' is not defined.","undef","'User' is defined but never used.","'Link' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-use-before-define","'admins' was used before it was defined.","usedBeforeDefined","react-hooks/rules-of-hooks","React Hook \"useState\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","'useState' is not defined.","'Permissions' is defined but never used.","'QUERY_PERMISSIONS' is defined but never used.","'QUERY_ME' is defined but never used.","'QUERY_PERMISSION' is not defined.","'data' is assigned a value but never used."]