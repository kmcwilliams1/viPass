[{"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\index.js":"1","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\reportWebVitals.js":"2","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\App.js":"3","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Home.js":"4","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Profile.js":"5","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Signup.js":"6","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Login.js":"7","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Permissions.js":"8","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\Footer\\index.js":"9","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\Header\\index.js":"10","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\utils\\auth.js":"11","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\utils\\queries.js":"12","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\utils\\mutations.js":"13","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\PermissionsForm\\index.js":"14","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\PermissionsList\\index.js":"15","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Admins.js":"16","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\AdminsForm\\index.js":"17","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\AdminsList\\index.js":"18"},{"size":517,"mtime":1633996543133,"results":"19","hashOfConfig":"20"},{"size":375,"mtime":1633996543135,"results":"21","hashOfConfig":"20"},{"size":2234,"mtime":1634143662212,"results":"22","hashOfConfig":"20"},{"size":1012,"mtime":1634231421045,"results":"23","hashOfConfig":"20"},{"size":1827,"mtime":1634143662314,"results":"24","hashOfConfig":"20"},{"size":2758,"mtime":1634143662315,"results":"25","hashOfConfig":"20"},{"size":3105,"mtime":1634231425706,"results":"26","hashOfConfig":"20"},{"size":1148,"mtime":1634230422661,"results":"27","hashOfConfig":"20"},{"size":841,"mtime":1634143662300,"results":"28","hashOfConfig":"20"},{"size":1052,"mtime":1634231425706,"results":"29","hashOfConfig":"20"},{"size":1231,"mtime":1634143662316,"results":"30","hashOfConfig":"20"},{"size":911,"mtime":1634232036693,"results":"31","hashOfConfig":"20"},{"size":2078,"mtime":1634232036692,"results":"32","hashOfConfig":"20"},{"size":3192,"mtime":1634230469169,"results":"33","hashOfConfig":"20"},{"size":2703,"mtime":1634230421828,"results":"34","hashOfConfig":"20"},{"size":1028,"mtime":1634232171402,"results":"35","hashOfConfig":"20"},{"size":2804,"mtime":1634232130784,"results":"36","hashOfConfig":"20"},{"size":2237,"mtime":1634232262667,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"15qpfp1",{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\index.js",[],["79","80"],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\reportWebVitals.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\App.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Home.js",["81","82","83","84"],"import React from 'react';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Permissions from './Permissions';\r\n\r\nimport { QUERY_PERMISSIONS } from '../utils/queries';\r\nimport Admins from './Admins';\r\n\r\n\r\nconst Home = () => {\r\n  const { data } = useQuery(QUERY_PERMISSIONS);\r\n  const permissions = data?.permissions || [];\r\n  const user = data?.user || [];\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"flex-row justify-center\">\r\n        <div\r\n          className=\"col-12 col-md-10 mb-3 p-3\"\r\n          style={{ border: '1px dotted #1a1a1a' }}\r\n        >\r\n          <Link className=\"button is-focused\" to=\"/login\">\r\n            Login\r\n          </Link>\r\n          <Link className=\"button is-link is-focused\" to=\"/signup\">\r\n            Signup\r\n          </Link>\r\n          {/* <Permissions  permissions={permissions} /> */}\r\n          <Admins\r\n            users={users}\r\n          />\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Profile.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Signup.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Login.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Permissions.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\Footer\\index.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\Header\\index.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\utils\\auth.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\utils\\queries.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\utils\\mutations.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\PermissionsForm\\index.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\PermissionsList\\index.js",[],"C:\\Users\\kmac5\\repos\\vipass\\client\\src\\pages\\Admins.js",["85"],"import React from 'react';\r\n\r\n// Import the `useParams()` hook\r\n\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport AdminsList from '../components/AdminsList';\r\nimport AdminsForm from '../components/AdminsForm';\r\n\r\nimport { QUERY_ADMIN } from '../utils/queries';\r\n\r\n\r\nconst Admins = () => {\r\n  const { loading, data } = useQuery(QUERY_ADMIN);\r\n  const admins = data?.admins || [];\r\n  console.log(data)\r\nconsole.log(admins)\r\n  return (\r\n    <main>\r\n      <div className=\"flex-row justify-center\">\r\n        <div className=\"col-12 col-md-8 mb-3\">\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : (        <div\r\n            className=\"col-12 col-md-10 mb-3 p-3\"\r\n            style={{ border: '1px dotted #1a1a1a' }}\r\n          >     <AdminsList\r\n              user={user.isAmin = true }\r\n              title=\"List of current Admins...\"\r\n            />\r\n            <AdminsForm />\r\n          </div>\r\n        \r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\n\r\nexport default Admins;\r\n","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\AdminsForm\\index.js",["86","87","88"],"import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport { MAKE_ADMIN } from '../../utils/mutations';\r\nimport { QUERY_ADMIN} from '../../utils/queries';\r\n\r\nimport Auth from '../../utils/auth';\r\n\r\nconst AdminsForm = () => {\r\n  const [newAdminText, setNewAdminText] = useState('');\r\n\r\n\r\n  const [addAdmin, { error }] = useMutation(MAKE_ADMIN, {\r\n    update(cache, { data: { addAdmin } }) {\r\n      try {\r\n        const { users } = cache.readQuery({ query: QUERY_ADMIN });\r\n            //is it QUERY_ADMIN?  \r\n        cache.writeQuery({\r\n          query: QUERY_ADMINS,\r\n          data: { users: [addAdmin, ...users] },\r\n          //is it ...users??\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n  });\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await addAdmin({\r\n        variables: {\r\n          newAdminText,\r\n        },\r\n      });\r\n      \r\n      console.log(data)\r\n      setNewAdminText('');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    if (name === 'newAdminText') {\r\n      setNewAdminText(value);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      {Auth.loggedIn() ? (\r\n        <>\r\n          <p\r\n            className={`m-0 ${\r\n              characterCount === 280 || error ? 'text-danger' : ''\r\n            }`}\r\n          >\r\n            Character Count: {characterCount}/280\r\n          </p>\r\n          <form\r\n            className=\"flex-row justify-center justify-space-between-md align-center\"\r\n            onSubmit={handleFormSubmit}\r\n          >\r\n            <div className=\"col-12 col-lg-9\">\r\n              <textarea\r\n                name=\"newAdminText\"\r\n                placeholder=\"What is the new permission?\"\r\n                value={newAdminText}\r\n                className=\"form-input w-100\"\r\n                style={{ lineHeight: '1.5', resize: 'vertical' }}\r\n                onChange={handleChange}\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div className=\"col-12 col-lg-3\">\r\n              <button className=\"btn btn-primary btn-block py-3\" type=\"submit\">\r\n                Add Admin\r\n              </button>\r\n            </div>\r\n            {error && (\r\n              <div className=\"col-12 my-3 bg-danger text-white p-3\">\r\n                {error.message}\r\n              </div>\r\n            )}\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <p>\r\n          You need to be an admin to create new permisions. Please{' '}\r\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminsForm;\r\n","C:\\Users\\kmac5\\repos\\vipass\\client\\src\\components\\AdminsList\\index.js",["89"],"import React , {useState}  from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  CardColumns,\r\n  Card,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { useQuery, useMutation } from \"@apollo/client\";\r\nimport Auth from \"../utils/auth\";\r\nimport { REMOVE_ADMIN } from \"../utils/mutations\";\r\nimport { QUERY_ADMINS } from \"../utils/queries\";\r\nconst AdminList = () => {\r\n  const [removeAdmin] = useMutation(REMOVE_ADMIN);\r\n  const { loading, data } = useQuery(QUERY_ADMINS);\r\n  const userData = data?.me || {};\r\n  \r\n  // create function that accepts the book's mongo _id value as param and deletes the book from the database\r\n  const handleDeleteAdmin = async (username) => {\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n    if (!token) {\r\n      return false;\r\n    }\r\n    try {\r\n      const { data } = await removeAdmin({\r\n        variables: { username },\r\n      });\r\n      console.log(data);\r\n      return data;\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n  // if data isn't here yet, say so\r\n  if (loading) {\r\n    return <h2>LOADING...</h2>;\r\n  }\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light bg-dark\">\r\n        <Container>\r\n          <h1>Viewing admins</h1>\r\n        </Container>\r\n      </Jumbotron>\r\n      <Container>\r\n        <h2>\r\n          {userData.username?.length\r\n            ? `Viewing ${userData.username.length} saved ${\r\n                userData.username.length === 1 ? \"user\" : \"users\"\r\n              }:`\r\n            : \"You have no amdins!\"}\r\n        </h2>\r\n        <CardColumns>\r\n          {userData.username?.map((users) => {\r\n            return (\r\n              <Card key={users.username} border=\"dark\">\r\n                <Card.Body>\r\n                  <Card.Title>{users.email}</Card.Title>\r\n                  <Card.Text>{users.permissions}</Card.Text>\r\n                  <Button\r\n                    className=\"btn-block btn-danger\"\r\n                    onClick={() => handleDeleteAdmin(users.username)}\r\n                  >\r\n                    Delete this user!\r\n                  </Button>\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardColumns>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\nexport default AdminList;\r\n",{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","severity":1,"message":"95","line":6,"column":8,"nodeType":"96","messageId":"97","endLine":6,"endColumn":19},{"ruleId":"94","severity":1,"message":"98","line":14,"column":9,"nodeType":"96","messageId":"97","endLine":14,"endColumn":20},{"ruleId":"94","severity":1,"message":"99","line":15,"column":9,"nodeType":"96","messageId":"97","endLine":15,"endColumn":13},{"ruleId":"100","severity":2,"message":"101","line":32,"column":20,"nodeType":"96","messageId":"102","endLine":32,"endColumn":25},{"ruleId":"100","severity":2,"message":"103","line":28,"column":21,"nodeType":"96","messageId":"102","endLine":28,"endColumn":25},{"ruleId":"100","severity":2,"message":"104","line":20,"column":18,"nodeType":"96","messageId":"102","endLine":20,"endColumn":30},{"ruleId":"100","severity":2,"message":"105","line":64,"column":15,"nodeType":"96","messageId":"102","endLine":64,"endColumn":29},{"ruleId":"100","severity":2,"message":"105","line":67,"column":31,"nodeType":"96","messageId":"102","endLine":67,"endColumn":45},{"ruleId":"94","severity":1,"message":"106","line":1,"column":17,"nodeType":"96","messageId":"97","endLine":1,"endColumn":25},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"no-unused-vars","'Permissions' is defined but never used.","Identifier","unusedVar","'permissions' is assigned a value but never used.","'user' is assigned a value but never used.","no-undef","'users' is not defined.","undef","'user' is not defined.","'QUERY_ADMINS' is not defined.","'characterCount' is not defined.","'useState' is defined but never used.","no-global-assign","no-unsafe-negation"]